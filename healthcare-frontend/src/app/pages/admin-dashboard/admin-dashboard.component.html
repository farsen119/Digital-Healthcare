<div class="container-fluid">
  <div class="row">
    <!-- Sidebar Navigation -->
    <div class="col-md-3 col-lg-2 d-md-block bg-dark sidebar collapse" style="min-height: 100vh;">
      <app-admin-sidebar></app-admin-sidebar>
    </div>

    <!-- Main Content -->
    <div class="col-md-9 col-lg-10 ms-sm-auto px-md-4 py-4">
      <!-- Dashboard Header -->
      <div class="d-flex justify-content-between align-items-center mb-4">
        <h2><i class="bi bi-speedometer2 me-2"></i> Admin Dashboard</h2>
        <div class="btn-group">
          <button class="btn btn-primary" routerLink="/admin-book-appointment"><i class="bi bi-download me-2"></i>Book Appointment</button>
          <button class="btn btn-success" routerLink="/register"><i class="bi bi-plus-circle me-2"></i>Add User</button>
        </div>
      </div>

      <!-- Stats Cards Row -->
      <div class="row mb-4">
        <div class="col-md-4">
          <div class="card bg-primary text-white">
            <div class="card-body">
              <h5 class="card-title">Total Users</h5>
              <h3 class="card-text">{{ users.length }}</h3>
              <span>+5% <i class="bi bi-arrow-up"></i></span>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card bg-success text-white">
            <div class="card-body">
              <h5 class="card-title">total Appointments</h5>
              <h3 class="card-text">{{ appointments.length }}</h3>
              <span>+12% <i class="bi bi-arrow-up"></i></span>
            </div>
          </div>
        </div>
        <div class="col-md-4">
          <div class="card bg-info text-white">
            <div class="card-body">
              <h5 class="card-title">New This Week</h5>
              <h3 class="card-text">15</h3>
              <span>+8% <i class="bi bi-arrow-up"></i></span>
            </div>
          </div>
        </div>
      </div>

      <!-- Latest Users Table (only 5) -->
      <div class="card">
        <div class="card-header bg-dark text-white">
          <h5 class="mb-0"><i class="bi bi-people me-2"></i> Latest Users</h5>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table class="table table-striped table-hover">
              <thead class="table-dark">
                <tr>
                  <th>Username</th>
                  <th>Role</th>
                  <th>Email</th>
                  <th>First Name</th>
                  <th>Last Name</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of latestUsers">
                  <td>{{ user.username }}</td>
                  <td>
                    <span class="badge" [ngClass]="{
                      'bg-primary': user.role === 'admin',
                      'bg-success': user.role === 'doctor',
                      'bg-info': user.role === 'patient'
                    }">{{ user.role }}</span>
                  </td>
                  <td>{{ user.email }}</td>
                  <td>{{ user.first_name }}</td>
                  <td>{{ user.last_name }}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <a routerLink="/admin-users" class="btn btn-link">View All Users</a>
        </div>
      </div>
    </div>
  </div>
</div>